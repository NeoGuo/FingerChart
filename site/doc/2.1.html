<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="../style/global.css"/>
<title>Document</title>
</head>

<body class="doc">
<h2>数据格式说明</h2>
<p>图表支持两种数据格式：XML和JSON，这两种数据格式都将被图表解释为统一的<a href="../api/com/riameeting/finger/vo/DatasetVO.html" target="_blank">DatasetVO</a>来使用。解析是依赖实现<a href="../api/com/riameeting/finger/parser/IParser.html" target="_blank">IParser</a>接口的类来完成，您也可以实现自定义的Parser类来解析其它的数据格式。</p>
<h3>XML格式说明</h3>
<p>在根标签&lt;finger&gt;下面，需要定义两个标签：&lt;config&gt;和&lt;dataset&gt;。</p>
<p>其中config是数据配置，定义取值字段，文本显示等等，注意这里的配置完全是数据相关的配置，与样式无关。关于样式请参考“<a href="2.3.html">皮肤与样式</a>”部分。</p>
<p>config包含以下的属性：</p>
<ol>
		<li>yTitle：必须，定义y轴的显示文本</li>
		<li>categoryField：必须，但不可与xField同时使用，定义x轴的显示字段（类型为文本），用于线图，柱图，条图，饼图，区域图</li>
		<li>xField：必须，但不可与categoryField同时使用，定义x轴的显示字段（类型必须为数值），用于散点图和气泡图</li>
		<li>yField：必须，定义y轴的显示字段，可以为多个，用逗号相隔</li>
		<li>zField：可选，适用于用于Z轴的图表类型，比如气泡图</li>
		<li>benchmark：可选，定义参考线的显示字段，参考线为一条灰色折线</li>
</ol>
<p class="important">注：因为x轴允许两种模式：按照类别，等分图表宽度的显示方式，和按照数值确定x坐标的方式，所以提供categoryField和xField两种定义方式，这两种方式是排斥关系。</p>
<p>dataset标签下面，是一组&lt;node&gt;标签，每一个&lt;node&gt;标签包含若干个数据属性，当然具体数据属性是什么，根据您的需求而定。</p>
<p>来看线图的一段XML数据Demo：</p>
<pre>&lt;finger&gt;
&lt;config yTitle=&quot;访问量&quot; categoryField=&quot;日期&quot; yField=&quot;频道一,频道二,参考线&quot; benchmark=&quot;参考线&quot;/&gt;
&lt;dataset&gt;
&lt;node 日期=&quot;6月1日&quot; 参考线=&quot;300&quot; 频道一=&quot;100&quot; 频道二=&quot;430&quot;/&gt;
&lt;node 日期=&quot;6月2日&quot; 参考线=&quot;300&quot; 频道一=&quot;240&quot; 频道二=&quot;530&quot;/&gt;
&lt;/dataset&gt;
&lt;/finger&gt;</pre>
<h3>JSON格式说明</h3>
<p>跟XML类似，JSON格式也应该有类似的结构，即：具备config和dataset。config是一个object，而dataset则是一个数组。来看一段Demo：</p>
<code>{"config":{"yTitle":"访问量","categoryField":"日期","yField":"频道一,频道二,参考线","benchmark":"参考线"},"dataset":[{"日期":"6月1日","参考线":"300","频道一":"100","频道二":"430"},{"日期":"6月2日","参考线":"300","频道一":"600","频道二":"230"}]}</code>
<!-- #BeginLibraryItem "/Library/footer.lbi" -->
<div id="footer">support by <a href="/">RIAMeeting</a></div>
<!--google code-->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-8015961-1");
pageTracker._trackPageview();
} catch(err) {}
</script>
<!--/google code--><!-- #EndLibraryItem -->
</body>
</html>
